<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
  </head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/baseadmin.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/category.css') }}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-TJqSG3Cd6wEMG8slf72c2xbmTpSeCuDDbTJqLOeP+L8AbTgmPzfl5xwzyj9BBSUBR6vzj1feVDE9LgONVb/Tow==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-some-hash" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" integrity="sha512-some-hash" crossorigin="anonymous"></script>

  
  <link rel="stylesheet" href="{{ url_for('static', filename='css/baseadmin.css') }}">
</head>
  <body>
    
    {% block content %}
    {% if 'adminid' not in session %}
    <div class="row">
    <div class="col-3">
        

    <input type="checkbox" id="checkbox">
    <header class="header">
        <h2 class="u-name">Petite<b>Annonce</b>
        <label for="checkbox">
            <i id="navbtn" class="fa fa-bars" aria-hidden="true"></i>
        </label>
    </h2>
    
        <i class="fa fa-user" aria-hidden="true"></i>
    </header>
    {% else %}
    <div class="body">
        <nav class="side-bar">
            <div class="user-p">
                
                <h4>{{session["fn"]}}</h4>
            </div>
            <ul>
                 
                 
                <li>
                    <a href="{{ url_for('views.adminhome') }}">
                         <i class="fa fa-desktop" aria-hidden="true"></i>
                         <span>Dashboard</span>
                     </a>
                 </li>
 
                 <li>
                     <a href="{{ url_for('views.view_graph') }}">
                         <span>Data Analytics</span>
                     </a>
                 </li>
 
                 <li>
                     <a href="{{ url_for('views.categories') }}">
                         <span>Manage category</span>
                     </a>
                 </li>
                 
                 <li>
                     <a href="{{ url_for('views.view_user') }}">
                         <span>Manage User</span>
                     </a>
                 </li>
 
                 <li>
                     <a href="{{ url_for('views.view_product') }}">
                         <span>Manage Product Advert</span>
                     </a>
                 </li>
     
                 <li>
                   <a href="{{ url_for('views.view_service') }}">
                       <span>Manage Service Advert</span>
                   </a>
               </li>
 
               
               <li>
                 <a href="{{ url_for('views.remove_product') }}">
                     <span>Remove Product Advert</span>
                 </a>
             </li>
 
             
             <li>
                 <a href="{{ url_for('views.remove_service') }}">
                     <span>Remove Service Advert</span>
                 </a>
             </li>
 
             <li>
                 <a href="{{ url_for('views.admin_service') }}">
                     <span>Renew Service Advert</span>
                 </a>
             </li>
 
             
             <li>
                 <a href="{{ url_for('views.admin_product') }}">
                     <span>Renew Product Advert</span>
                 </a>
             </li>
           
 
                 <li>
                     <a href="#">
                         <i class="fa fa-cog" aria-hidden="true"></i>
                         <span>Setting</span>
                     </a>
                 </li>
 
                 <li>
                     <a href="{{ url_for('views.logout') }}">
                         <i class="fa fa-power-off" aria-hidden="true"></i>
                         <span>Log out</span>
                         {% endif %}
                     </a>
                 </li>


                
             </ul>
         </nav>
        <section class="section-1">

            {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class="flash-messages">
                {% for message in messages %}
                    <li class="flash-message">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

            <div class="col-6">
				<div class="container">
					<div class="table-wrapper">
						<div class="table-title">
							<div class="row">
								<div class="col-sm-6">
									<h2>Manage <b>Categories</b></h2>
								</div>
								<div class="col-sm-6">
									<a href="#addCategoryModal" class="btn btn-success" data-toggle="modal"><i class="material-icons">&#xE147;</i> <span>Add New Category</span></a>
								</div>
							</div>
						</div>
						<table class="table table-striped table-hover">
							<thead>
								<tr>
									<th>Category Type</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody>
								{% for category in categories %}
								<tr>
									<td>{{ category[1] }}</td>
									<td>
										<a href="#editCategoryModal" class="edit" data-toggle="modal" data-category-id="{{ category[0] }}"><i class="fas fa-edit" data-toggle="tooltip"></i></a>
										<a href="#deleteCategoryModal" class="delete" data-toggle="modal" data-category-id="{{ category[0] }}">
											<i class="fas fa-trash-alt" data-toggle="tooltip" title="Delete"></i>
										</a>
										
									</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
				
				<!-- Add Category Modal HTML -->
				<div id="addCategoryModal" class="modal fade">
					<div class="modal-dialog">
						<div class="modal-content">
							<form action="/categoryy/" method="post">
								<div class="modal-header">
									<h4 class="modal-title">Add Category</h4>
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
								</div>
								<div class="modal-body">
									<div class="form-group">
										<label>Category Type</label>
										<input type="text" class="form-control" name="category_type" required>
									</div>
								</div>
								<div class="modal-footer">
									<input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
									<input type="submit" class="btn btn-success" value="Add">
								</div>
							</form>
						</div>
					</div>
				</div>
			
			<!-- Edit Modal HTML -->
<div id="editCategoryModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="editCategoryForm" action="/categoryy/" method="POST">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Category</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="edit_category_type">Category Type</label>
                        <input type="text" class="form-control" id="edit_category_type" name="category_type" required>
                    </div>
                    <input type="hidden" id="edit_category_id" name="category_id" value="">
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-info" value="Save">
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Delete Modal HTML -->
<div id="deleteCategoryModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="deleteCategoryForm" action="/categoryy/delete" method="POST">
                <div class="modal-header">
                    <h4 class="modal-title">Delete Category</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this category?</p>
                    <p class="text-warning"><small>This action cannot be undone.</small></p>
                    <input type="hidden" id="delete_category_id" name="category_id" value="">
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                    <input type="submit" class="btn btn-danger" value="Delete">
                </div>
            </form>
        </div>
    </div>
</div>


				
        </section> 
    </div> 
</div> 
    <script src="https://kit.fontawesome.com/3e70aa7d33.js" crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/3e70aa7d33.js" crossorigin="anonymous"></script>
	<script type="text/javascript" src="{{url_for('static', filename='js/cat.js')
}}"></script>

    {% endblock %}
  </body>
</html>
